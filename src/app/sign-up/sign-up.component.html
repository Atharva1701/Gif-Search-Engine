<div class="container-fluid">
  <h1>Sign Up</h1>
  <form #signUpForm="ngForm" (ngSubmit)="onSubmit()" novalidate>

    <div class="form-group">
      <label>Name</label>
      <input type="text" required #name="ngModel"
      [class.is-invalid]="name.invalid && name.touched" class="form-control is-invalid"
      name="name" [(ngModel)]="userModel.name">
      <small class="text-danger" [class.d-none]="name.valid || name.untouched">Name is required</small>
    </div>

    <div class="form-group">
      <label>Email</label>
      <input type="email" required #mail="ngModel"
      [class.is-invalid]="mail.invalid && mail.touched" class="form-control is-invalid"
      name="email" [(ngModel)]="userModel.email">
      <small class="text-danger" [class.d-none]="mail.valid || mail.untouched">Email is required</small>
    </div>

    <div class="form-group">
      <label>Username</label>
      <input type="text" required #username="ngModel"
      [class.is-invalid]="(username.invalid && username.touched) || usernameFlag" class="form-control is-invalid"
      name="username" [(ngModel)]="userModel.username">
      <small class="text-danger" [class.d-none]="username.valid || username.untouched">Please enter a username</small><br>
      <small class="text-danger" [class.d-none]="!usernameFlag" id = "username_test">Username already exists</small>
    </div>

    <div class="form-group">
      <label>Password</label>
      <input type="password" required #password="ngModel"
      [class.is-invalid]="password.invalid && password.touched" class="form-control is-invalid"
      name="password" [(ngModel)]="userModel.password">
      <small class="text-danger" [class.d-none]="password.valid || password.untouched">Please enter a password</small>
    </div>

    <div class="form-check mb-3">
      <input type="checkbox" required #agree="ngModel"
      [class.is-invalid]="agree.invalid && agree.touched" class="form-check-input"
      name="agree" [(ngModel)]="userModel.agree">
      <label class="form-check-label">I agree to the terms and conditions</label>
      <p><small class="text-danger" [class.d-none]="agree.valid || agree.untouched">You have to agree to the terms and conditions</small></p>
    </div>

    <button [disabled]="signUpForm.form.invalid" type="submit" class="btn btn-primary">Sign Up</button>

  </form>
  <div *ngIf="success" id = "succ_test">
    Success
  </div>
</div>
